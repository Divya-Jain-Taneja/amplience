<div data-qa="site_promo_image-hotspot_wrapper" class="img-wrapper amp-rich-image mol-rich-image-{{replace (last (split [@id] "/")) "-" "" }}" 
{{#if (not aspectRatio)}}{{#or (not (contains mAspectRatio "{")) (not (contains dAspectRatio "{")) (and (not (contains mAspectRatio '"initialHeight":""')) (not (contains mAspectRatio '"initialWidth":""'))) (and (not (contains dAspectRatio '"initialHeight":""')) (not (contains dAspectRatio '"initialWidth":""')))}}style="{{#not (contains mAspectRatio "{")}}--m-aspect-ratio:{{mAspectRatio}};{{else}}{{#with (JSONparse mAspectRatio)}}{{#and (not (is initialWidth "")) (not (is initialHeight ""))}}--m-aspect-ratio:{{initialWidth}}/{{initialHeight}};{{/and}}{{/with}}{{/not}}{{#not (contains dAspectRatio "{")}}--d-aspect-ratio:{{dAspectRatio}};{{else}}{{#with (JSONparse dAspectRatio)}}{{#and (not (is initialWidth "")) (not (is initialHeight ""))}}--d-aspect-ratio:{{initialWidth}}/{{initialHeight}};{{/and}}{{/with}}{{/not}}"{{/or}}{{/if}}>
    {{#not promotionId}}
        {{#if jumpPointID }}
            {{> sfcc-at-jumpAnchor this }}
        {{/if}}
    {{/not}}
    <div class="js-img-container img-container {{#if aspectRatio}}{{append "aspect-ratio-" (join (split aspectRatio '/') '_')}} aspect-ratio-box{{else if (or mAspectRatio dAspectRatio)}}amps-aspect-ratio-box{{/if}}">
        <picture data-loading="lazy" data-class="js-poi-img-{{replace (last (split [@id] "/")) "-" "" }} {{#if aspectRatio}}aspect-ratio-img{{/if}}" data-iesrc="//{{hotspotImage.defaultHost}}/i/{{hotspotImage.endpoint}}/{{encodeURI hotspotImage.name}}?w=640" data-alt="{{richImageAltText}}" class="u-full-cover-element m-d-ratio-defined">
            <source srcset="//{{hotspotImage.defaultHost}}/i/{{hotspotImage.endpoint}}/{{encodeURI hotspotImage.name}}?&w={{#and desktopImageNormal (or parentid promotionId)}}{{desktopImageNormal}}{{else}}1920{{/and}}{{#if dAspectRatio}}{{#or (not (contains dAspectRatio "{")) (and (not (contains dAspectRatio '"initialHeight":""')) (not (contains dAspectRatio '"initialWidth":""')))}}&sm=aspect&aspect={{#not (contains dAspectRatio "{")}}{{replace dAspectRatio "/" ":"}}{{else}}{{#with (JSONparse dAspectRatio)}}{{#and (not (is initialWidth "")) (not (is initialHeight ""))}}{{initialWidth}}:{{initialHeight}}{{/and}}{{/with}}{{/not}}{{/or}}{{/if}}&fmt=webp 1x, //{{hotspotImage.defaultHost}}/i/{{hotspotImage.endpoint}}/{{encodeURI hotspotImage.name}}?&w={{#and desktopImageRetina (or parentid promotionId)}}{{desktopImageRetina}}{{else}}2240{{/and}}{{#if dAspectRatio}}{{#or (not (contains dAspectRatio "{")) (and (not (contains dAspectRatio '"initialHeight":""')) (not (contains dAspectRatio '"initialWidth":""')))}}&sm=aspect&aspect={{#not (contains dAspectRatio "{")}}{{replace dAspectRatio "/" ":"}}{{else}}{{#with (JSONparse dAspectRatio)}}{{#and (not (is initialWidth "")) (not (is initialHeight ""))}}{{initialWidth}}:{{initialHeight}}{{/and}}{{/with}}{{/not}}{{/or}}{{/if}}&fmt=webp 2x" {{#if desktopWidth}}width="{{desktopWidth}}"{{else if imageDimension}}width="{{itemAt (split imageDimension ",") 1 }}"{{else if dAspectRatio}}{{#if (contains dAspectRatio "{")}}{{#with (JSONparse dAspectRatio)}}{{#not (is initialWidth "")}}width="{{initialWidth}}"{{/not}}{{/with}}{{else}}width="1200"{{/if}}{{/if}} {{#if desktopHeight}}height="{{desktopHeight}}"{{else if imageDimension}}height="{{itemAt (split imageDimension ",") 0 }}"{{else if dAspectRatio}}{{#if (contains dAspectRatio "{")}}{{#with (JSONparse dAspectRatio)}}{{#not (is initialHeight "")}}height="{{initialHeight}}"{{/not}}{{/with}}{{else}}height="{{#divide (multiply 1200 (toInt (itemAt (split dAspectRatio "/") 1)))  (toInt (itemAt (split dAspectRatio "/") 0))}}{{/divide}}"{{/if}}{{/if}} media="(min-width: 1200px)" type="image/webp">
            <source srcset="//{{hotspotImage.defaultHost}}/i/{{hotspotImage.endpoint}}/{{encodeURI hotspotImage.name}}?&w={{#and desktopImageNormal (or parentid promotionId)}}{{desktopImageNormal}}{{else}}1920{{/and}}{{#if dAspectRatio}}{{#or (not (contains dAspectRatio "{")) (and (not (contains dAspectRatio '"initialHeight":""')) (not (contains dAspectRatio '"initialWidth":""')))}}&sm=aspect&aspect={{#not (contains dAspectRatio "{")}}{{replace dAspectRatio "/" ":"}}{{else}}{{#with (JSONparse dAspectRatio)}}{{#and (not (is initialWidth "")) (not (is initialHeight ""))}}{{initialWidth}}:{{initialHeight}}{{/and}}{{/with}}{{/not}}{{/or}}{{/if}}&fmt=jpg 1x, //{{hotspotImage.defaultHost}}/i/{{hotspotImage.endpoint}}/{{encodeURI hotspotImage.name}}?&w={{#and desktopImageRetina  (or parentid promotionId)}}{{desktopImageRetina}}{{else}}2240{{/and}}{{#if dAspectRatio}}{{#or (not (contains dAspectRatio "{")) (and (not (contains dAspectRatio '"initialHeight":""')) (not (contains dAspectRatio '"initialWidth":""')))}}&sm=aspect&aspect={{#not (contains dAspectRatio "{")}}{{replace dAspectRatio "/" ":"}}{{else}}{{#with (JSONparse dAspectRatio)}}{{#and (not (is initialWidth "")) (not (is initialHeight ""))}}{{initialWidth}}:{{initialHeight}}{{/and}}{{/with}}{{/not}}{{/or}}{{/if}}&fmt=jpg 2x" {{#if desktopWidth}}width="{{desktopWidth}}"{{else if imageDimension}}width="{{itemAt (split imageDimension ",") 1 }}"{{else if dAspectRatio}}{{#if (contains dAspectRatio "{")}}{{#with (JSONparse dAspectRatio)}}{{#not (is initialWidth "")}}width="{{initialWidth}}"{{/not}}{{/with}}{{else}}width="1200"{{/if}}{{/if}} {{#if desktopHeight}}height="{{desktopHeight}}"{{else if imageDimension}}height="{{itemAt (split imageDimension ",") 0 }}"{{else if dAspectRatio}}{{#if (contains dAspectRatio "{")}}{{#with (JSONparse dAspectRatio)}}{{#not (is initialHeight "")}}height="{{initialHeight}}"{{/not}}{{/with}}{{else}}height="{{#divide (multiply 1200 (toInt (itemAt (split dAspectRatio "/") 1)))  (toInt (itemAt (split dAspectRatio "/") 0))}}{{/divide}}"{{/if}}{{/if}} media="(min-width: 1200px)" type="image/jpeg">
            <source srcset="//{{hotspotImage.defaultHost}}/i/{{hotspotImage.endpoint}}/{{encodeURI hotspotImage.name}}?&w={{#and tabletImageNormal (or parentid promotionId)}}{{tabletImageNormal}}{{else}}1400{{/and}}{{#if dAspectRatio}}{{#or (not (contains dAspectRatio "{")) (and (not (contains dAspectRatio '"initialHeight":""')) (not (contains dAspectRatio '"initialWidth":""')))}}&sm=aspect&aspect={{#not (contains dAspectRatio "{")}}{{replace dAspectRatio "/" ":"}}{{else}}{{#with (JSONparse dAspectRatio)}}{{#and (not (is initialWidth "")) (not (is initialHeight ""))}}{{initialWidth}}:{{initialHeight}}{{/and}}{{/with}}{{/not}}{{/or}}{{/if}}&fmt=webp 1x, //{{hotspotImage.defaultHost}}/i/{{hotspotImage.endpoint}}/{{encodeURI hotspotImage.name}}?&w={{#and tabletImageRetina (or parentid promotionId)}}{{tabletImageRetina}}{{else}}1920{{/and}}{{#if dAspectRatio}}{{#or (not (contains dAspectRatio "{")) (and (not (contains dAspectRatio '"initialHeight":""')) (not (contains dAspectRatio '"initialWidth":""')))}}&sm=aspect&aspect={{#not (contains dAspectRatio "{")}}{{replace dAspectRatio "/" ":"}}{{else}}{{#with (JSONparse dAspectRatio)}}{{#and (not (is initialWidth "")) (not (is initialHeight ""))}}{{initialWidth}}:{{initialHeight}}{{/and}}{{/with}}{{/not}}{{/or}}{{/if}}&fmt=webp 2x" {{#if desktopWidth}}width="{{desktopWidth}}"{{else if imageDimension}}width="{{itemAt (split imageDimension ",") 3 }}"{{else if dAspectRatio}}{{#if (contains dAspectRatio "{")}}{{#with (JSONparse dAspectRatio)}}{{#not (is initialWidth "")}}width="{{initialWidth}}"{{/not}}{{/with}}{{else}}width="1200"{{/if}}{{/if}} {{#if desktopHeight}}height="{{desktopHeight}}"{{else if imageDimension}}height="{{itemAt (split imageDimension ",") 2 }}"{{else if dAspectRatio}}{{#if (contains dAspectRatio "{")}}{{#with (JSONparse dAspectRatio)}}{{#not (is initialHeight "")}}height="{{initialHeight}}"{{/not}}{{/with}}{{else}}height="{{#divide (multiply 1200 (toInt (itemAt (split dAspectRatio "/") 1)))  (toInt (itemAt (split dAspectRatio "/") 0))}}{{/divide}}"{{/if}}{{/if}} media="(min-width: 769px)" type="image/webp">
            <source srcset="//{{hotspotImage.defaultHost}}/i/{{hotspotImage.endpoint}}/{{encodeURI hotspotImage.name}}?&w={{#and tabletImageNormal (or parentid promotionId)}}{{tabletImageNormal}}{{else}}1400{{/and}}{{#if dAspectRatio}}{{#or (not (contains dAspectRatio "{")) (and (not (contains dAspectRatio '"initialHeight":""')) (not (contains dAspectRatio '"initialWidth":""')))}}&sm=aspect&aspect={{#not (contains dAspectRatio "{")}}{{replace dAspectRatio "/" ":"}}{{else}}{{#with (JSONparse dAspectRatio)}}{{#and (not (is initialWidth "")) (not (is initialHeight ""))}}{{initialWidth}}:{{initialHeight}}{{/and}}{{/with}}{{/not}}{{/or}}{{/if}}&fmt=jpg 1x, //{{hotspotImage.defaultHost}}/i/{{hotspotImage.endpoint}}/{{encodeURI hotspotImage.name}}?&w={{#and tabletImageRetina (or parentid promotionId)}}{{tabletImageRetina}}{{else}}1920{{/and}}{{#if dAspectRatio}}{{#or (not (contains dAspectRatio "{")) (and (not (contains dAspectRatio '"initialHeight":""')) (not (contains dAspectRatio '"initialWidth":""')))}}&sm=aspect&aspect={{#not (contains dAspectRatio "{")}}{{replace dAspectRatio "/" ":"}}{{else}}{{#with (JSONparse dAspectRatio)}}{{#and (not (is initialWidth "")) (not (is initialHeight ""))}}{{initialWidth}}:{{initialHeight}}{{/and}}{{/with}}{{/not}}{{/or}}{{/if}}&fmt=jpg 2x" {{#if desktopWidth}}width="{{desktopWidth}}"{{else if imageDimension}}width="{{itemAt (split imageDimension ",") 3 }}"{{else if dAspectRatio}}{{#if (contains dAspectRatio "{")}}{{#with (JSONparse dAspectRatio)}}{{#not (is initialWidth "")}}width="{{initialWidth}}"{{/not}}{{/with}}{{else}}width="1200"{{/if}}{{/if}} {{#if desktopHeight}}height="{{desktopHeight}}"{{else if imageDimension}}height="{{itemAt (split imageDimension ",") 2 }}"{{else if dAspectRatio}}{{#if (contains dAspectRatio "{")}}{{#with (JSONparse dAspectRatio)}}{{#not (is initialHeight "")}}height="{{initialHeight}}"{{/not}}{{/with}}{{else}}height="{{#divide (multiply 1200 (toInt (itemAt (split dAspectRatio "/") 1)))  (toInt (itemAt (split dAspectRatio "/") 0))}}{{/divide}}"{{/if}}{{/if}} media="(min-width: 769px)" type="image/jpeg">
            <source srcset="//{{hotspotImage.defaultHost}}/i/{{hotspotImage.endpoint}}/{{encodeURI hotspotImage.name}}?&w={{#and mobileImageNormal (or parentid promotionId)}}{{mobileImageNormal}}{{else}}768{{/and}}{{#if mAspectRatio}}{{#or (not (contains mAspectRatio "{")) (and (not (contains mAspectRatio '"initialHeight":""')) (not (contains mAspectRatio '"initialWidth":""')))}}&sm=aspect&aspect={{#not (contains mAspectRatio "{")}}{{replace mAspectRatio "/" ":"}}{{else}}{{#with (JSONparse mAspectRatio)}}{{#and (not (is initialWidth "")) (not (is initialHeight ""))}}{{initialWidth}}:{{initialHeight}}{{/and}}{{/with}}{{/not}}{{/or}}{{/if}}&fmt=webp 1x, //{{hotspotImage.defaultHost}}/i/{{hotspotImage.endpoint}}/{{encodeURI hotspotImage.name}}?&w={{#and mobileImageRetina (or parentid promotionId)}}{{mobileImageRetina}}{{else}}1536{{/and}}{{#if mAspectRatio}}{{#or (not (contains mAspectRatio "{")) (and (not (contains mAspectRatio '"initialHeight":""')) (not (contains mAspectRatio '"initialWidth":""')))}}&sm=aspect&aspect={{#not (contains mAspectRatio "{")}}{{replace mAspectRatio "/" ":"}}{{else}}{{#with (JSONparse mAspectRatio)}}{{#and (not (is initialWidth "")) (not (is initialHeight ""))}}{{initialWidth}}:{{initialHeight}}{{/and}}{{/with}}{{/not}}{{/or}}{{/if}}&fmt=webp 2x" {{#if mobileWidth}}width="{{mobileWidth}}"{{else if imageDimension}}width="{{itemAt (split imageDimension ",") 5 }}"{{else if mAspectRatio}}{{#if (contains mAspectRatio "{")}}{{#with (JSONparse mAspectRatio)}}{{#not (is initialWidth "")}}width="{{initialWidth}}"{{/not}}{{/with}}{{else}}width="375"{{/if}}{{/if}} {{#if mobileHeight}}height="{{mobileHeight}}"{{else if imageDimension}}height="{{itemAt (split imageDimension ",") 4 }}"{{else if mAspectRatio}}{{#if (contains mAspectRatio "{")}}{{#with (JSONparse mAspectRatio)}}{{#not (is initialHeight "")}}height="{{initialHeight}}"{{/not}}{{/with}}{{else}}height="{{#divide (multiply 375 (toInt (itemAt (split mAspectRatio "/") 1)))  (toInt (itemAt (split mAspectRatio "/") 0))}}{{/divide}}"{{/if}}{{/if}} media="(max-width: 768px)" type="image/webp">
            <source srcset="//{{hotspotImage.defaultHost}}/i/{{hotspotImage.endpoint}}/{{encodeURI hotspotImage.name}}?&w={{#and mobileImageNormal (or parentid promotionId)}}{{mobileImageNormal}}{{else}}768{{/and}}{{#if mAspectRatio}}{{#or (not (contains mAspectRatio "{")) (and (not (contains mAspectRatio '"initialHeight":""')) (not (contains mAspectRatio '"initialWidth":""')))}}&sm=aspect&aspect={{#not (contains mAspectRatio "{")}}{{replace mAspectRatio "/" ":"}}{{else}}{{#with (JSONparse mAspectRatio)}}{{#and (not (is initialWidth "")) (not (is initialHeight ""))}}{{initialWidth}}:{{initialHeight}}{{/and}}{{/with}}{{/not}}{{/or}}{{/if}}&fmt=jpg 1x, //{{hotspotImage.defaultHost}}/i/{{hotspotImage.endpoint}}/{{encodeURI hotspotImage.name}}?&w={{#and mobileImageRetina (or parentid promotionId)}}{{mobileImageRetina}}{{else}}1536{{/and}}{{#if mAspectRatio}}{{#or (not (contains mAspectRatio "{")) (and (not (contains mAspectRatio '"initialHeight":""')) (not (contains mAspectRatio '"initialWidth":""')))}}&sm=aspect&aspect={{#not (contains mAspectRatio "{")}}{{replace mAspectRatio "/" ":"}}{{else}}{{#with (JSONparse mAspectRatio)}}{{#and (not (is initialWidth "")) (not (is initialHeight ""))}}{{initialWidth}}:{{initialHeight}}{{/and}}{{/with}}{{/not}}{{/or}}{{/if}}&fmt=jpg 2x" {{#if mobileWidth}}width="{{mobileWidth}}"{{else if imageDimension}}width="{{itemAt (split imageDimension ",") 5 }}"{{else if mAspectRatio}}{{#if (contains mAspectRatio "{")}}{{#with (JSONparse mAspectRatio)}}{{#not (is initialWidth "")}}width="{{initialWidth}}"{{/not}}{{/with}}{{else}}width="375"{{/if}}{{/if}} {{#if mobileHeight}}height="{{mobileHeight}}"{{else if imageDimension}}height="{{itemAt (split imageDimension ",") 4 }}"{{else if mAspectRatio}}{{#if (contains mAspectRatio "{")}}{{#with (JSONparse mAspectRatio)}}{{#not (is initialHeight "")}}height="{{initialHeight}}"{{/not}}{{/with}}{{else}}height="{{#divide (multiply 375 (toInt (itemAt (split mAspectRatio "/") 1)))  (toInt (itemAt (split mAspectRatio "/") 0))}}{{/divide}}"{{/if}}{{/if}} media="(max-width: 768px)" type="image/jpeg">
        </picture>
    </div>
    <div class="d-none img-metaData" data-imgname="{{hotspotImage.name}}" promotionId="{{#if promotionId}}{{promotionId}}{{else}}{{append "id-" (replace _meta.name " " "")}}{{/if}}" locationId="{{#if locationId}}{{locationId}}{{else}}rich_image_tooltip{{/if}}" creativeSlot="{{creativeSlot}}"
        {{#if hotSpotIcon}}data-hotSpotIcon="//{{hotSpotIcon.endpoint}}.a.bigcontent.io/v1/static/{{encodeURI hotSpotIcon.name}}"
    {{/if}} {{#if highlightStyle}}data-highlightStyle="{{highlightStyle}}"{{/if}}>
    {{{JSONstringify hotspotImage.ImageMetaData}}}
    </div>
</div>